@import "sxcss";

body {
    box-sizing: border-box;
}

body * {
    box-sizing: inherit;
}

.n-select {
    --w: 11rem;
    --h: 2rem;

    --padding: 0.4rem;

    --line-height: 2rem;

    --text-size: 1rem;
    --text-color: black;
    --text-hover-color: white;

    --background-color: rgb(243, 243, 243);

    --border-color: #6f6f6f;
    --border-hover-color: #00a1a1;

    --option-hover-color: #5bc4d7;
    --option-border-color: #bbbbbb;

    position: relative;

    &--native-handler {
        .n-select__custom {
            display: none;
            position: absolute;
        }

        @media (hover: hover) {
            .n-select__custom {
                display: block;
            }

            .n-select__native:focus + .n-select__custom {
                display: none;
            }
        }
    }

    &__native,
    &__custom {
        position: relative;
        width: var(--w);
        height: var(--h);
        color: var(--text-color);
    }

    &__custom {
        top: 0;
        left: 0;

        &--placeholder {
            position: relative;
            width: 100%;
            height: 100%;
            background-color: var(--background-color);
            padding: 0 var(--padding);
            cursor: pointer;
            line-height: var(--line-height);

            &::after {
                content: "▾";
                position: absolute;
                top: 0;
                line-height: var(--line-height);
                right: var(--padding);
            }

            &:hover {
                border-color: var(--border-hover-color);
            }
        }

        &--search-input {
            font: inherit;
            background: none;
            border: none;
            max-width: calc(var(--w) - calc(3 * var(--padding)));
            padding-right: var(--padding);

            &:focus {
                outline: none;
            }
        }

        &--options {
            position: absolute;
            top: calc(var(--line-height) + var(--padding));
            left: 0;
            width: 100%;
            border: 1px solid var(--border-color);
            border-radius: 0.4rem;
            background-color: var(--background-color);
            box-shadow: 0 0 4px #e9e1f8;
            z-index: 1;
            display: none;
        }

        &.active &--options {
            display: block;
        }

        &--option {
            font-size: var(--text-size);
            position: relative;
            padding: var(--padding);
            padding-left: 2.5rem;

            &:hover {
                background-color: var(--option-hover-color);
                color: var(--text-hover-color);
                cursor: default;
            }

            &:not(:last-of-type)::after {
                content: "";
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                border-bottom: 1px solid var(--option-border-color);
            }

            &.selected::before {
                content: "✓";
                position: absolute;
                left: var(--padding);
            }
        }
    }

    &--label {
        display: block;
        margin-bottom: 0.4rem;
    }

    &--wrapper {
        position: relative;
    }

    &__native,
    &__custom--placeholder {
        font-size: var(--text-size);
        background-color: var(--background-color);
        border: 1px solid var(--border-color);
        border-radius: 0.4rem;
    }

    &__native {
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>");
        background-repeat: no-repeat;
        background-position-x: 100%;
        background-position-y: var(--padding);
        padding: 0rem var(--padding);
    }
}
